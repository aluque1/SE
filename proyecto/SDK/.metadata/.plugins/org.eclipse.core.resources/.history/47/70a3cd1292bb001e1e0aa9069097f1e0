/*****************************************************************************
 * Filename:          C:\Users\aluqu\Desktop\uni\SE\practica05/drivers/banner_v1_00_a/src/banner.c
 * Version:           1.00.a
 * Description:       banner Driver Source File
 * Date:              Sat Dec 16 19:06:47 2023 (by Create and Import Peripheral Wizard)
 *****************************************************************************/

/***************************** Include Files *******************************/

#include "banner.h"
#include "xparameters.h"

/************************** Constant Definitions ***************************/

/**
 * User definitions for the banner
 */
const int A[7] = {0x04, 0x05, 0x11, 0x1F, 0x11, 0x11, 0x11};
const int B[7] = {0x1E, 0x11, 0x11, 0x1E, 0x11, 0x11, 0x1E};
const int C[7] = {0x0E, 0x11, 0x10, 0x10, 0x10, 0x11, 0x0E};
const int D[7] = {0x1E, 0x11, 0x11, 0x11, 0x11, 0x11, 0x1E};
const int E[7] = {0x1F, 0x10, 0x10, 0x1E, 0x10, 0x10, 0x1F};
const int F[7] = {0x1F, 0x10, 0x10, 0x1E, 0x10, 0x10, 0x10};
const int G[7] = {0x0E, 0x11, 0x10, 0x17, 0x11, 0x11, 0x0E};
const int H[7] = {0x11, 0x11, 0x11, 0x1F, 0x11, 0x11, 0x11};
const int I[7] = {0x1F, 0x04, 0x04, 0x04, 0x04, 0x04, 0x1F};
const int J[7] = {0x1F, 0x04, 0x04, 0x04, 0x04, 0x14, 0x08};
const int K[7] = {0x11, 0x12, 0x14, 0x18, 0x14, 0x12, 0x11};
const int L[7] = {0x10, 0x10, 0x10, 0x10, 0x10, 0x11, 0x1F};
const int M[7] = {0x11, 0x1B, 0x15, 0x15, 0x11, 0x11, 0x11};
const int N[7] = {0x11, 0x11, 0x19, 0x15, 0x13, 0x11, 0x11};
const int O[7] = {0x0E, 0x11, 0x11, 0x11, 0x11, 0x11, 0x0E};
const int P[7] = {0x1E, 0x11, 0x11, 0x1E, 0x10, 0x10, 0x10};
const int Q[7] = {0x0E, 0x11, 0x11, 0x11, 0x15, 0x12, 0x0D};
const int R[7] = {0x1E, 0x11, 0x11, 0x1E, 0x14, 0x12, 0x11};
const int S[7] = {0x0E, 0x11, 0x10, 0x0E, 0x01, 0x11, 0x0E};
const int T[7] = {0x1F, 0x04, 0x04, 0x04, 0x04, 0x04, 0x04};
const int U[7] = {0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x0E};
const int V[7] = {0x11, 0x11, 0x11, 0x11, 0x11, 0x0A, 0x04};
const int W[7] = {0x11, 0x11, 0x11, 0x11, 0x15, 0x15, 0x0A};
const int X[7] = {0x11, 0x11, 0x0A, 0x04, 0x0A, 0x11, 0x11};
const int Y[7] = {0x11, 0x11, 0x11, 0x0A, 0x04, 0x04, 0x04};
const int Z[7] = {0x1F, 0x01, 0x02, 0x04, 0x08, 0x10, 0x1F};
const int SPACE[7] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
const int EXCLAMATION[7] = {0x04, 0x04, 0x04, 0x04, 0x00, 0x04};
const int INTERROGATION[7] = {0x0E, 0x11, 0x02, 0x04, 0x00, 0x04};
const int COMMA[7] = {0x00, 0x00, 0x00, 0x00, 0x04, 0x08};
const int DOT[7] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x04};
const int SLASH[7] = {0x01, 0x01, 0x02, 0x04, 0x08, 0x10};
const int ZERO[7] = {0x0E, 0x11, 0x13, 0x15, 0x19, 0x11, 0x0E};
const int ONE[7] = {0x04, 0x0C, 0x14, 0x04, 0x04, 0x04, 0x1F};
const int TWO[7] = {0x0E, 0x11, 0x01, 0x02, 0x04, 0x08, 0x1F};
const int THREE[7] = {0x0E, 0x11, 0x01, 0x06, 0x01, 0x11, 0x0E};
const int FOUR[7] = {0x02, 0x06, 0x0A, 0x12, 0x1F, 0x02, 0x02};
const int FIVE[7] = {0x1F, 0x10, 0x1E, 0x01, 0x01, 0x11, 0x0E};
const int SIX[7] = {0x0E, 0x11, 0x10, 0x1E, 0x11, 0x11, 0x0E};
const int SEVEN[7] = {0x1F, 0x01, 0x02, 0x04, 0x08, 0x08, 0x08};
const int EIGHT[7] = {0x0E, 0x11, 0x11, 0x0E, 0x11, 0x11, 0x0E};
const int NINE[7] = {0x0E, 0x11, 0x11, 0x0F, 0x01, 0x01, 0x0E};


/************************** Function Definitions ***************************/
void banner_write(Xuint32 row, Xuint32 col, Xuint32 datum)
{
	while (BANNER_mWriteFIFOFull(XPAR_BANNER_0_BASEADDR))
	{
	}
	Xuint32 data;
	data = ((row & 0xFF) << (31 - 7)) + ((col & 0xFF) << (31 - 15)) + ((datum & 0xFF) << (31 - 23));
	BANNER_mWriteToFIFO(XPAR_BANNER_0_BASEADDR, 0, data);
}

void banner_put(Xuint32 col, int dato[]){
	int i;
	for (i = 0; i < 7; ++i)
	{
		banner_write(i, col, dato[i]);
	}
}


void banner_init()
{
	Xuint32 row, col, datum, data;
	datum = 0x00;
	for (row = 0; row < 7; ++row)
	{
		for (col = 0; col < 8; ++col)
		{
			data = ((row & 0xff) << (31 - 7)) + ((col & 0xff) << (31 - 15)) + ((datum & 0xff) << (31 - 23));
			BANNER_mWriteToFIFO(XPAR_BANNER_0_BASEADDR, 0, data);
		}
	}
}

